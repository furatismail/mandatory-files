import { Action, createReducer, on } from "@ngrx/store"
import * as authActions from './auth.actions'
import { AuthState } from "./models/auth-state.interface"
export const initialState: any = {
    error: "",
    user: null,
    loading: false
}

const reducer = createReducer(
    initialState,
    on(authActions.login, (state) => ({ ...state, loading: true })),
    on(authActions.loginSuccess, (state, action) => ({ ...state, loading: false, user: action.payload }))
)

export function authReducer(state: AuthState, action: Action) {
    return reducer(state, action)
}
